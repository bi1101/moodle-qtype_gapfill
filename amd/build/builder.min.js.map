{"version":3,"sources":["../src/builder.js"],"names":["init","singleuse","gaps","document","querySelectorAll","forEach","gap","addEventListener","event","gapValue","currentTarget","value","restoreOption","option","innerText","hidden","answeroption","textContent","i","length"],"mappings":"2IAqBoB,QAAPA,CAAAA,IAAO,CAACC,CAAD,CAAe,CACjC,SACA,GAAIC,CAAAA,CAAI,CAAGC,QAAQ,CAACC,gBAAT,CAA0B,8BAA1B,CAAX,CAEAF,CAAI,CAACG,OAAL,CAAa,SAAAC,CAAG,CAAI,CAClBA,CAAG,CAACC,gBAAJ,CAAqB,UAArB,CAAiC,SAAAC,CAAK,CAAI,CACxC,GAAIC,CAAAA,CAAQ,CAAGD,CAAK,CAACE,aAAN,CAAoBC,KAAnC,CACAC,CAAa,CAACH,CAAD,CAAb,CACAH,CAAG,CAACK,KAAJ,CAAY,EACb,CAJD,CAKD,CAND,EAOA,QAASC,CAAAA,CAAT,CAAuBH,CAAvB,CAAiC,CAC/BN,QAAQ,CAACC,gBAAT,CAA0B,wBAA1B,EAAoDC,OAApD,CAA4D,SAAAQ,CAAM,CAAI,CACpE,GAAGJ,CAAQ,EAAII,CAAM,CAACC,SAAtB,CAAiC,CAC/BD,CAAM,CAACE,MAAP,GACD,CACF,CAJD,CAKD,CAEDZ,QAAQ,CAACC,gBAAT,CAA0B,wBAA1B,EAAoDC,OAApD,CAA4D,SAAAQ,CAAM,CAAI,CACpEA,CAAM,CAACN,gBAAP,CAAwB,OAAxB,CAAiC,SAAAC,CAAK,CAAI,CAExC,OADIQ,CAAAA,CAAY,CAAGR,CAAK,CAACE,aAAN,CAAoBO,WACvC,CAASC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGhB,CAAI,CAACiB,MAAzB,CAAiCD,CAAC,EAAlC,CAAsC,CACpC,GAAI,CAAChB,CAAI,CAACgB,CAAD,CAAJ,CAAQP,KAAb,CAAoB,CAClBT,CAAI,CAACgB,CAAD,CAAJ,CAAQP,KAAR,CAAgBK,CAAhB,CACA,GAAGf,CAAH,CAAc,CACZY,CAAM,CAACE,MAAP,GACD,CACD,MACD,CACF,CACF,CAXD,CAYD,CAbD,CAcD,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript code for the gapfill question type.\n *\n * @copyright  2020 Marcus Green\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nexport const init = (singleuse) => {\n  debugger;\n  var gaps = document.querySelectorAll('input[id*=\"_p\"].droptarget');\n  // Clear gap on double click\n  gaps.forEach(gap => {\n    gap.addEventListener('dblclick', event => {\n      var gapValue = event.currentTarget.value;\n      restoreOption(gapValue);\n      gap.value = \"\";\n    });\n  });\n  function restoreOption(gapValue) {\n    document.querySelectorAll('span.draggable.answers').forEach(option => {\n      if(gapValue == option.innerText) {\n        option.hidden=false;\n      }\n    });\n  }\n\n  document.querySelectorAll('span.draggable.answers').forEach(option => {\n    option.addEventListener('click', event => {\n      var answeroption = event.currentTarget.textContent;\n      for (let i = 0; i < gaps.length; i++) {\n        if (!gaps[i].value) {\n          gaps[i].value = answeroption;\n          if(singleuse) {\n            option.hidden = true;\n          }\n          return;\n        }\n      }\n    });\n  });\n};"],"file":"builder.min.js"}