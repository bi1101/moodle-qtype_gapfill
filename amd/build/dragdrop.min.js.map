{"version":3,"file":"dragdrop.min.js","sources":["../src/dragdrop.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript code for the gapfill question type.\n *\n * @copyright  2020 Marcus Green\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nexport const init = (singleuse) => {\n\n  var draggables = document.getElementsByClassName('draggable');\n  window.singleuse = singleuse;\n\n    draggables.forEach(function (e) {\n          e.addEventListener('dragstart', dragStart);\n    });\n\n  var droptargets = document.getElementsByClassName('droptarget')\n     droptargets.forEach(function (e) {\n          e.addEventListener(\"dragover\", function(event) {\n            event.preventDefault();\n          });\n\n          e.addEventListener(\"dblclick\", function(event) {\n            event.target.value = \"\";\n          });\n\n          e.addEventListener(\"drop\", drop);\n      });\n\n  /**\n   *\n   * @param {*} e\n   */\n  function drop(e) {\n   var data = e.dataTransfer.getData('text/plain');\n   e.target.value = data;\n  }\n  /**\n   *\n   * @param {*} e\n   */\n  function dragStart(e) {\n    e.currentTarget.cursor = 'move';\n    e.dataTransfer.setData('text/plain', e.target.innerText);\n  }\n};"],"names":["singleuse","draggables","document","getElementsByClassName","drop","e","data","dataTransfer","getData","target","value","dragStart","currentTarget","cursor","setData","innerText","window","forEach","addEventListener","event","preventDefault"],"mappings":"2JAsBqBA,gBAEfC,WAAaC,SAASC,uBAAuB,sBAwBxCC,KAAKC,OACTC,KAAOD,EAAEE,aAAaC,QAAQ,cAClCH,EAAEI,OAAOC,MAAQJ,cAMTK,UAAUN,GACjBA,EAAEO,cAAcC,OAAS,OACzBR,EAAEE,aAAaO,QAAQ,aAAcT,EAAEI,OAAOM,WAjChDC,OAAOhB,UAAYA,UAEjBC,WAAWgB,SAAQ,SAAUZ,GACvBA,EAAEa,iBAAiB,YAAaP,cAGtBT,SAASC,uBAAuB,cACnCc,SAAQ,SAAUZ,GACzBA,EAAEa,iBAAiB,YAAY,SAASC,OACtCA,MAAMC,oBAGRf,EAAEa,iBAAiB,YAAY,SAASC,OACtCA,MAAMV,OAAOC,MAAQ,MAGvBL,EAAEa,iBAAiB,OAAQd"}